<html>
<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;" name="viewport" />
    <meta content="yes" name="apple-mobile-web-app-capable" />
    <meta content="black" name="apple-mobile-web-app-status-bar-style" />
    <meta content="telephone=no" name="format-detection" />
    <title>健康管理方案查看</title>

    <link href="../css/lib/mui.min.css" rel="stylesheet" type="text/css">
    <link href="../css/report.css" rel="stylesheet" type="text/css" />


    <style type="text/css">
      
      body {

    background-color: #ffffff;

}
         [v-cloak]{ display: none; }
        
           .mui-slider-indicator {
				bottom: 0;
			}
			.mui-slider {
				background-color: #ffffff;
				height:280px;
			}
			.mui-slider-group
			{
			    background-color: #ffffff;
			}
			.mui-slider-item
			{
			    background-color: #ffffff;
			}
			.mui-grid-view.mui-grid-9
			{
			    background-color: #ffffff;
			}

			
            .mui-content 
			{
			    background-color: #ffffff;
			    width: 100%;
			    margin:0px 0px;
			  

			}
			
			.headmenu 
			{
			    width: 100%;
			    height:150px;
			    margin-top:-25px;
			    background-color: #49C63C;

			}
			
			.hr1 
			{
			    width: 100%;
			    height:50px;
			    padding-top:25px;
			    background-color: #49C63C;

			}
			
			.hr2 
			{
			    width: 100%;
			    height:50px;
			    padding-top:25px;
			    background-color: #49C63C;

			}
			
			.hr3 
			{
			    width: 100%;
			    height:50px;
			    padding-top:25px;
			    background-color: #49C63C;

			}
			
			
			.hr4
			{
			    width: 100%;
			    height:50px;
			    padding-top:25px;
			    background-color: #49C63C;

			}
			
			.mui-card
			{
			    width: 100%;
			    margin:0px;

			}
			
	 .maintitle{

    vertical-align: middle;
    text-align: center;
    margin-left:-22px;
    font-size:35px;
    color:White;
    
}

	 .secondtitle{

    vertical-align: middle;
    text-align: center;
    margin-left:-22px;
    font-size:25px;
    color:White;
    
}

	 .threetitle{

    vertical-align: middle;
    text-align: center;
    margin-left:-22px;
    font-size:15px;
    color:White;
    
}


	 .hrtitle1{

    vertical-align: middle;
    text-align: left;
    margin-left:-22px;
    font-size:16px;
    color:White;
    
}


	 .hrtitle2{

    vertical-align: middle;
    text-align: left;
    margin-left:-22px;
    font-size:16px;
    color:White;
    
}

	 .hrtitle3{

    vertical-align: middle;
    text-align: left;
    margin-left:-22px;
    font-size:22px;
    color:White;
    
}


	 .hrtitle4{

    vertical-align: middle;
    text-align: left;
    margin-left:-22px;
    font-size:22px;
    color:White;
    
}
			
	.mui-btn-primary, .mui-btn-blue {
    color: #fff;
    border: 1px solid rgba(255, 106, 0, 0.95);
    background-color: rgba(255, 106, 0, 0.58);
}


        
    </style>
  
</head>
<body>


        <div class="mui-content" id="PlanInfo" style="margin-top: 5px;">

             <ul class="headmenu">
				<li style="list-style-type:none;margin-top:25px;">
                    <div class="secondtitle" style="padding-top:15px;">个人健康管理方案</div>
                    <div class="threetitle" style="padding-top:15px;">档案健康号：{{PlanNum}}</div>
				</li>
			</ul>

              <ul class="hr1">
				<li style="list-style-type:none;margin-top:25px;">
					<div class="hrtitle1" style="margin-top:-35px;">基本信息</div>
				</li>
			</ul>
            <ul v-cloak>
                <li>姓名：<span>{{RName}}</span></li>
                <li>性别：<span>{{Sex}}</span></li>
                <li>年龄：<span>{{Birthday}}</span></li>
            </ul>


            <div class="menu1">
            </div>


            <ul class="hr2">
				<li style="list-style-type:none;margin-top:25px;">
					<div class="hrtitle2" style="margin-top:-35px;">核心健康信息监测  >></div>
				</li>
			</ul>



             <ul class="hr3">
				<li style="list-style-type:none;margin-top:25px;">
					<div class="hrtitle2" style="margin-top:-35px;">健康评估要点</div>
				</li>
			</ul>
            <ul v-cloak>
                <li><span>{{ItemKeyPoint}}</span></li>
            </ul>



            <div class="menu2">
            </div>


           <ul class="hr4">
				<li style="list-style-type:none;margin-top:25px;">
					<div class="hrtitle2" style="margin-top:-35px;">健康干预策略</div>
				</li>
			</ul>
            <ul v-cloak>
                <li>健康干预策略：<span>{{ItemHealthDanger}}</span></li>
                <li>营养素管理：<span v-show="ItemMedArr.indexOf('001')>=0">哈福牌蓓春胶囊</span><span v-show="ItemMedArr.indexOf('002')>=0">,蓓强参杞片</span><span v-show="ItemMedArr.indexOf('003')>=0">,甘青素荷精片</span><span v-show="ItemMedArr.indexOf('004')>=0">,博才素多烯片</span><span v-show="ItemMedArr.indexOf('005')>=0">,植复佳葡萄红片</span>
                                <span v-show="ItemMedArr.indexOf('006')>=0">,槐莱片</span><span v-show="ItemMedArr.indexOf('007')>=0">,桑桂片</span><span v-show="ItemMedArr.indexOf('008')>=0">,山荷片</span><span v-show="ItemMedArr.indexOf('009')>=0">,薤葡片</span><span v-show="ItemMedArr.indexOf('010')>=0">,纳豆片</span>
                                <span v-show="ItemMedArr.indexOf('011')>=0">,莱普藤果之纤片</span><span v-show="ItemMedArr.indexOf('012')>=0">,葛豆片</span><span v-show="ItemMedArr.indexOf('013')>=0">,木瓜胶原蛋白片</span><span v-show="ItemMedArr.indexOf('014')>=0">,覆杞片</span><span v-show="ItemMedArr.indexOf('015')>=0">,橘苓片</span>
                                <span v-show="ItemMedArr.indexOf('016')>=0">,复合维矿片</span><span v-show="ItemMedArr.indexOf('017')>=0">,五色植物茶</span><span v-show="ItemMedArr.indexOf('018')>=0">,免疫力风险套餐</span><span v-show="ItemMedArr.indexOf('019')>=0">,内分泌风险套餐</span><span v-show="ItemMedArr.indexOf('020')>=0">,血压风险套餐</span>
                                <span v-show="ItemMedArr.indexOf('021')>=0">,血糖风险套餐</span><span v-show="ItemMedArr.indexOf('022')>=0">,血脂风险套餐</span><span v-show="ItemMedArr.indexOf('023')>=0">,肥胖风险套餐</span><span v-show="ItemMedArr.indexOf('024')>=0">,脂肪肝风险套餐</span><span v-show="ItemMedArr.indexOf('025')>=0">,冠心病风险套餐</span>
                                <span v-show="ItemMedArr.indexOf('026')>=0">,脑梗塞风险套餐</span><span v-show="ItemMedArr.indexOf('027')>=0">,骨骼风险套餐</span><span v-show="ItemMedArr.indexOf('028')>=0">,性能力风险套餐</span><span v-show="ItemMedArr.indexOf('029')>=0">,胃肠功能风险套餐</span>
                </li>
                <li>膳食管理：<span>{{ItemFoodInfo}}</span></li>
　　　　　　　　<li>运动管理：<span>{{ItemSportInfo}}</span></li>
                <li>睡眠管理：<span>{{ItemSleepInfo}}</span></li>
                <li>心态管理：<span>{{ItemFeelingInfo}}</span></li>
                <li>家居健康：<span>{{ItemLiveInfo}}</span></li>
                <li>健康教育：<span>{{ItemEduInfo}}</span></li>
                <li v-show="ItemCustomInfoTitle!=''"><span>{{ItemCustomInfoTitle}}</span></li>
                <li v-show="ItemCustomInfoContent!=''"><span>{{ItemCustomInfoContent}}</span></li>
            </ul>

           <div class="menu3">
            </div>

           <ul class="hr4">
				<li style="list-style-type:none;margin-top:25px;">
					<div class="hrtitle2" style="margin-top:-35px;">健康跟踪服务与随访建议</div>
				</li>
			</ul>
            <ul v-show="ServiceIsShow">
                <li><span>1个小时的运动;</span></li>
                <li><span>2两鱼,2两肉(蛋),200毫升牛奶;</span></li>
                <li><span>3两主食;</span></li>
                <li><span>4两水果;</span></li>
                <li><span>5两蔬菜;</span></li>
                <li><span>6克盐;</span></li>
                <li><span>7个小时高质量睡眠;</span></li>
                <li><span style="color:red;">建议一个月复查一次相关指标,每{{ SuggestInfo }}个月做一次综合评价.</span></li>

            </ul>

            <div class="menu4">
            </div>


            <ul v-cloak>
                <li>健康管理师：<span>{{DoctorName}}</span></li>
                <li><span>{{CreateTime}}</span></li>

            </ul>

       </div>



    <!---figure end---->


    <!---me end---->
<script src="../js/lib/jquery-2.1.3.min.js" type="text/javascript"></script>
<script src="../js/base.js" type="text/javascript"></script>
<script src="../js/public.js" type="text/javascript"></script>
<script src="../js/lib/vue20.min.js" type="text/javascript"></script>
 <script>

var domainUrl = GetMvcApiDomain();

var username=null;  
var PlanNum=null;
function plusReady() { 
HeadShow();		
var objuser=JSON.parse(plus.storage.getItem('user'));
username = objuser.UserName;

var _self = plus.webview.currentWebview();
PlanNum=_self.ReportNum;
if(PlanNum==null || PlanNum==''){
	plus.webview.currentWebview().close();
}


back();
}

if(window.plus){  
plusReady();  
}else{  
document.addEventListener("plusready",plusReady,false);  
} 



           app=new Vue({
               el: '#PlanInfo',
               data: function(){
                   return {
                       UserName:UserName,
                       PlanNum:PlanNum,
                       CreateTime:"--",
                       RName:"未填写",
                       Sex:"男",
                       Birthday:"未填写",
                       ItemKeyPoint:"",
                       ItemHealthDanger:"",
                       ItemMedArr:"",
                       ItemFoodInfo:"",
                       ItemSportInfo:"",
                       ItemSleepInfo:"",
                       ItemFeelingInfo:"",
                       ItemLiveInfo:"",
                       ItemEduInfo:"",
                       ItemCustomInfoTitle:"",
                       ItemCustomInfoContent:"",
                       ServiceIsShow:true,
                       SuggestInfo:"3",
                       ShopUser:"",
                       DoctorUser:"",
                       DoctorName:""

                   }

               },

               mounted: function () {

                   this.$nextTick(function () {

                     var self=this;
                     setTimeout(function(){
                     self.getPlanInfo(username,PlanNum);
                     }, 150);
                 })

               },

               methods: {
                   getPlanInfo: function (username,plannum) {
                       var that = this;
                       $.ajax({
                           url: domainUrl + "api/PerPlan/getPerPlanInfo",
                           type: 'get',
                           dataType: "json",
                           data: { UserName: username,PlanNum:plannum },
                           success: function (data) {
                               that.RName = data.ReallyName;
                               if(data.Sex=='1'){
                                   that.Sex = "男";
                               } if(data.Sex=='2') {
                                   that.Sex = "女";
                               }
                               else
                               {
                                   that.Sex = "--";
                               }
                               that.Birthday = data.Birthday;

                               that.CreateTime = data.CreateTime.substring(0,10);
                               that.ItemKeyPoint = data.KeyPointInfo.replace("<br>","\r\n");
                               that.ItemHealthDanger = data.HealthDanger;
                               that.ItemMedArr = data.MedInfo;
                               that.ItemFoodInfo = data.FoodInfo.replace("<br>","\r\n");
                               that.ItemSportInfo = data.SportInfo.replace("<br>","\r\n");
                               that.ItemSleepInfo = data.SleepInfo;
                               that.ItemFeelingInfo = data.FeelingInfo;
                               that.ItemLiveInfo = data.LiveInfo;
                               that.ItemEduInfo = data.EduInfo;
                               that.ItemCustomInfoTitle = data.CustomInfoTitle;
                               that.ItemCustomInfoContent = data.CustomInfoContent;

                               that.ServiceIsShow =data.ServiceIsShow;
                               if(data.ServiceIsShow=='False'){
                                   that.ServiceIsShow =false;
                               }else{
                                   that.ServiceIsShow =true;
                               }
                               that.SuggestInfo = data.SuggestInfo;

                               that.ShopUser=data.ShopUser;
                               that.DoctorUser=data.DoctorUser;
                               that.DoctorName=data.DoctorName;

                           },
                           error: function () {
                               plus.nativeUI.toast("网络错误，请稍后再试");
                           }
                       })
                   }

               }


           })

           function html2Escape(sHtml) {
               return sHtml.replace(/[<>&"]/g,function(c){return {'<':'<','>':'>','&':'&','"':'"'}[c];});
           }

 </script>

</body>
</html>
